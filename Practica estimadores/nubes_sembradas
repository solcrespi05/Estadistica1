import pandas as pd
import numpy as np
from scipy import stats

# Load the txt file as if it were a CSV with tab or space separation
file_path = '/workspaces/Estadistica1/Practica estimadores/cloud-seeding.txt'
df = pd.read_csv(file_path, sep= r'\s+', header=0)

# mu es la diferencia entre las medias muestrales de los dos grupos
grupo_1 = df['Unseeded_Clouds']
grupo_2 = df['Seeded_Clouds']

media_grupo_1 = grupo_1.mean()
media_grupo_2 = grupo_2.mean()

mu = media_grupo_2 - media_grupo_1
print(f'a. Estimador de la diferencia de medias: {mu}')
# Calcular el error estándar de mu
n1 = len(grupo_1)
n2 = len(grupo_2)
var_grupo_1 = grupo_1.var(ddof=1)
var_grupo_2 = grupo_2.var(ddof=1)

error_estandar_mu = np.sqrt(var_grupo_1/n1 + var_grupo_2/n2)
print(f'b. Error estándar de la diferencia de medias: {error_estandar_mu}')

# Calcular el intervalo de confianza del 95%
alpha = 0.05
t_critical = stats.t.ppf(1 - alpha/2, df=min(n1, n2) - 1)
margen_error = t_critical * error_estandar_mu

intervalo_confianza = (mu - margen_error, mu + margen_error)
print(f'c. Intervalo de confianza del 95%: {intervalo_confianza}')

# 